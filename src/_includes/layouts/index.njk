{% extends "layouts/base.njk" %}
{% import "partials/macros.njk" as m with context %}

{% block content %}
<img
      alt="Les six membres de Dixie Time, posant les un à côté des autres avec leurs instruments, dans une salle devant un mur"
      class="contrast-100 border-b-8 border-amber-600"
      src="/assets/images/cover.jpg"
      srcset="
        /assets/images/cover-320.jpg   320w,
        /assets/images/cover-640.jpg   640w,
        /assets/images/cover-960.jpg   960w,
        /assets/images/cover-1280.jpg 1280w,
        /assets/images/cover-1600.jpg 1600w
      "
    />

<main id="content" class="xl:mx-auto md:w-3/4 m-3 p-3 md:p-6 bg-white border border-slate-300">
  <h1 class="sr-only">Bienvenue sur le site de Dixie Time</h1>

  <div class="mb-16 py-16 px-4 border border-slate-300">
    {{ m.title("Qui sommes nous ?", 2) }}

    <div class="flow">
      {{ content | safe }}
    </div>
  </div>

  <div class="mb-16 py-16 px-4 border border-slate-300">
    {{ m.title("Prochains évènements", 2, false) }}

    <div class="index-events mb-6">
      {{ m.eventList(filter="coming") }}
    </div>

    <a href="/evenements/" class="block w-fit mx-auto text-amber-900 font-semibold underline">
      Voir nos évènements passés
    </a>
  </div>

  <div class="mb-16 py-16 px-4 border border-slate-300">
    {{ m.title("Nous écouter", 2, false) }}

    <div class="mb-6 w-fit mx-auto">
      {% include "partials/player.njk" %}
    </div>

    <a href="/repertoire/" class="block w-fit mx-auto text-amber-900 font-semibold underline">
      Consulter notre répertoire
    </a>
  </div>

  <div class="py-16 px-4 border border-slate-300">
    {{ m.title("Notre actualité", 2, false) }}

    <div class="divide-y">
      {{ m.postList(5) }}
    </div>
  </div>
</main>
{% endblock %}